
:root{
  --bg: #0b1020; --panel:#10162b; --muted:#9aa4b2; --text:#e6e9ef;
  --brand:#5b8cff; --brand2:#6ae2ff; --ok:#38d39f; --warn:#ffb86b; --err:#ff6b6b;
  --border: rgba(255,255,255,.06); --chip:#18203a; --radius:16px;
  --shadow: 0 10px 30px rgba(0,0,0,.35), 0 1px 0 rgba(255,255,255,.04) inset;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background: radial-gradient(1200px 800px at 20% -10%, rgba(90,136,255,.15), transparent 40%),
  radial-gradient(1200px 800px at 120% 10%, rgba(106,226,255,.10), transparent 40%), var(--bg);
  color:var(--text); font:15px/1.6 system-ui, -apple-system, Segoe UI, Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, "Noto Sans", sans-serif;
}
.app{display:grid;grid-template-columns:260px 1fr;min-height:100vh}
aside{border-right:1px solid var(--border);background:linear-gradient(180deg, rgba(16,22,43,.7), rgba(16,22,43,.4));position:sticky;top:0;height:100vh;overflow:auto;backdrop-filter:saturate(140%) blur(6px);}
.brand{display:flex;align-items:center;gap:10px;padding:22px 20px 16px}
.brand .logo{width:36px;height:36px;border-radius:10px;background: conic-gradient(from 210deg, var(--brand), var(--brand2));box-shadow:0 6px 18px rgba(91,140,255,.35)}
.brand .t1{font-weight:700;letter-spacing:.3px}
.brand .t2{font-size:12px;color:var(--muted)}
nav{padding:8px 10px 24px}
.nav-sec{color:#7d88a1;font-size:12px;margin:12px 10px 6px}
.nav a{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:10px;color:#c9d3df;text-decoration:none;transition:.2s;border:1px solid transparent}
.nav a:hover{background:#11193a;border-color:var(--border)}
.nav a.active{background:linear-gradient(180deg,#18203a,#11193a);border-color:var(--border);box-shadow:var(--shadow)}
header.top{position:sticky;top:0;z-index:8;display:flex;align-items:center;gap:16px;justify-content:space-between;padding:16px 24px;border-bottom:1px solid var(--border);background:linear-gradient(180deg, rgba(16,22,43,.82), rgba(16,22,43,.66));backdrop-filter:saturate(140%) blur(6px)}
.search{flex:1;display:flex;align-items:center;gap:10px;background:#0c1226;border:1px solid var(--border);border-radius:12px;padding:10px 12px}
.search input{flex:1;background:transparent;border:0;outline:0;color:#dfe6ee}
.actions{display:flex;gap:10px;align-items:center}
.btn{padding:10px 14px;border-radius:12px;border:1px solid var(--border);background:#0e1530;color:#dfe6ee;cursor:pointer;transition:.2s}
.btn:hover{transform:translateY(-1px);box-shadow:var(--shadow)}
.btn.primary{background:linear-gradient(180deg,#3d63ff,#314dea);border-color:rgba(255,255,255,.18);color:#fff}
.btn.warn{ background: rgba(255,184,107,.12); color: #ffb86b; border-color: rgba(255,184,107,.35); }
main{padding:24px;display:grid;gap:20px}
.grid{display:grid;gap:18px}
.grid.cols-4{grid-template-columns:repeat(4, minmax(0,1fr))}
.grid.cols-3{grid-template-columns:repeat(3, minmax(0,1fr))}
.grid.cols-2{grid-template-columns:repeat(2, minmax(0,1fr))}
.panel{border:1px solid var(--border);border-radius:var(--radius);background:linear-gradient(180deg, rgba(16,22,43,.9), rgba(16,22,43,.7));box-shadow:var(--shadow)}
.panel .hd{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--border)}
.panel .bd{padding:14px 16px}
.kpis{display:flex;gap:16px;flex-wrap:wrap}
.kpi{flex:1 1 240px;min-width:220px;border:1px solid var(--border);border-radius:14px;padding:14px;background:linear-gradient(180deg, #0f1631, #0d142c);display:grid;gap:8px}
.kpi .label{color:var(--muted);font-size:12px}
.kpi .value{font-size:26px;font-weight:700}
.tag{padding:4px 8px;border-radius:999px;border:1px solid var(--border);background:#0d1736;font-size:12px}
.tag.ok{color:var(--ok)} .tag.warn{color:var(--warn)} .tag.err{color:var(--err)}
canvas{width:100%;height:180px;border-radius:10px;background:linear-gradient(180deg,#0e1530,#0b1126);border:1px solid var(--border)}
table{width:100%;border-collapse:collapse}
th,td{padding:10px 8px;border-bottom:1px dashed var(--border);text-align:left}
th{color:#a6b0c2;font-weight:600}
tr:hover td{background:#0e1735}
.code{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;background:#0d1736;border:1px solid var(--border);padding:10px;border-radius:10px;overflow:auto}
.form{display:grid;gap:12px}
.form .row{display:grid;grid-template-columns:180px 1fr;gap:12px;align-items:center}
.input,select,textarea{background:#0c1226;border:1px solid var(--border);color:#dfe6ee;border-radius:10px;padding:10px}
.footer{padding:12px 16px;color:var(--muted);font-size:12px;border-top:1px solid var(--border);text-align:right}
.switch{position:relative;display:inline-block;width:44px;height:24px}
.switch input{display:none}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#24304f;border:1px solid var(--border);transition:.2s;border-radius:999px}
.slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;top:2px;background:white;border-radius:50%;transition:.2s}
input:checked + .slider{background:linear-gradient(180deg,#3d63ff,#00d4ff)}
input:checked + .slider:before{transform:translateX(20px)}
@media (max-width: 1200px){.app{grid-template-columns:220px 1fr}.grid.cols-4{grid-template-columns:repeat(2,1fr)}.grid.cols-3{grid-template-columns:repeat(2,1fr)}}
@media (max-width: 700px){aside{display:none}.grid.cols-4,.grid.cols-3,.grid.cols-2{grid-template-columns:1fr}header.top{position:static} .form .row{grid-template-columns:1fr}}
/* === Light mode refined === */
body.light{ background:#f7f9fc; color:#0f172a }
body.light aside,
body.light .panel,
body.light .btn,
body.light .search,
body.light .kpi{ background:#ffffff; border-color:#e5eaf2 }
body.light header.top{
  background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.90));
  border-bottom: 1px solid #e5eaf2;
  backdrop-filter: saturate(140%) blur(6px);
}
.search input::placeholder{ color:#9aa4b2 }
body.light .search{ background:#f8fafc; border-color:#e2e8f0 }
body.light .search input{ color:#0f172a }
body.light .search input::placeholder{ color:#64748b }
body.light .nav a:hover{ background:#eef4ff }
body.light .nav a.active{ background:#e8f0ff; border-color:#d7e3ff }
body.light .tag{ background:#edf2ff; border-color:#d7e3ff; color:#1e40af }
body.light .tag.ok{ color:#15803d; background:#ecfdf5; border-color:#bbf7d0 }
body.light .tag.warn{ color:#b45309; background:#fff7ed; border-color:#fed7aa }
body.light .tag.err{ color:#b91c1c; background:#fef2f2; border-color:#fecaca }
body.light .btn{ background:#ffffff; color:#0f172a; border-color:#e5eaf2 }
body.light .btn:hover{ box-shadow: 0 6px 14px rgba(2,8,23,.08); transform: translateY(-1px) }
body.light .btn.primary{ background: linear-gradient(180deg,#3b82f6,#2563eb); color:#fff; border-color: rgba(37,99,235,.5) }
body.light .btn.warn{ background:#fff7ed; color:#b45309; border-color:#fed7aa }
body.light .input, body.light select, body.light textarea{ background:#ffffff; border-color:#e5eaf2; color:#0f172a }
body.light canvas{ background:#ffffff; border-color:#eef2f7 }
body.light tr:hover td{ background:#f7faff }
body.light .chip{ background:#f1f5f9; border-color:#e2e8f0; color:#475569 }
