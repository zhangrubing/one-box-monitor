{% extends "base.html" %}
{% block title %}硬件与系统 · 一体机监控系统{% endblock %}
{% block content %}
<div class="panel"><div class="hd"><div>系统摘要</div><div class="tag" id="uptime">--</div></div>
<div class="bd">
  <div class="kpis">
    <div class="kpi"><div class="label">主机名</div><div class="value" id="host">--</div></div>
    <div class="kpi"><div class="label">操作系统</div><div class="value" id="os">--</div></div>
    <div class="kpi"><div class="label">CPU 线程</div><div class="value" id="cpu">--</div></div>
    <div class="kpi"><div class="label">内存总量</div><div class="value" id="mem">--</div></div>
  </div>
</div></div>
<script>
function secToStr(s){ s=+s||0;const d=Math.floor(s/86400);s%=86400;const h=Math.floor(s/3600);s%=3600;const m=Math.floor(s/60);return (d?d+'天 ':'')+h+'小时'+m+'分'; }
apiGet('/api/hardware/summary').then(d=>{
  host.textContent = d.hostname;
  os.textContent = d.os + ' ' + d.kernel + ' ('+d.arch+')';
  cpu.textContent = d.cpu_physical+'C / '+d.cpu_logical+'T';
  mem.textContent = d.mem_total_gb+' GB';
  uptime.textContent = '已运行 ' + secToStr(d.uptime_seconds);
});
</script>
{% endblock %}
